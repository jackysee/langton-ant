<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Langton's Ant</title>
	<script src="ant.js"></script>
	<style>
		body{font-family:Verdana, Arial;}
		#plane td {
			width: 20px;
			height: 20px;
			border: 1px solid #CCC;
		}
		#plane {
			border-collapse: collapse;
		}
		#plane td.black{
			background-color: black;
		}
		#planeWrap { padding: 1em;}
	</style>
</head>
<body>
	<h1>Langon's Ant</h1>
	<p>This is an implementation of <a href="http://en.wikipedia.org/wiki/Langton%27s_ant">Langon's Ant</a> in js. It follows two rule: <br>
	* At a white square, turn 90° right, flip the color of the square, move forward one unit<br>
	* At a black square, turn 90° left, flip the color of the square, move forward one unit
	</p>

	<fieldset>
		<legend>Dimension</legend>
		 <input type="number" id="dim" value="20"/>
		 <button id="generate">Generate</button>
	</fieldset>
	<div id="planeWrap" style="display:none">
		<table id="plane"></table>
		<p>
			Click on one of the cell as ant position
			<button id="stop" style="display:none">Stop</button>
		</p>
	</div>
	<script>
		//GUI glue code
		var gen = util.$("#generate")[0];
		var dim = util.$("#dim")[0];
		var planeWrap = util.$("#planeWrap")[0];
		var table = util.$("#plane")[0];
		var stopButton = util.$("#stop")[0];

		gen.addEventListener("click", function(){
			App.stop();
			Plane.clean();
			Plane.generate(parseInt(dim.value, 10));
			planeWrap.style.display = "";
		});

		plane.addEventListener("click", function(ev){
			if(util.isTd(ev)){
				App.stop();
				Plane.clean();
				App.start(util.getXy(ev));
				stopButton.style.display = "";
			}
		});

		stopButton.addEventListener("click", function(){
			App.stop();
		});

	</script>
</body>
</html>
